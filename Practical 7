.l FILE

%{
#include<stdio.h>
#include"y.tab.h"
%}

%%
[0-9]+ { yylval = atoi(yytext); return NUMBER; }
[+*/-] { return yytext[0]; }
\n { return '\n'; }
. { printf("%s", yytext); }
%%
int yywrap()
{
return 1;
}


.y FILE

%{
#include<stdio.h>
#include<stdlib.h>
void yyerror(char *s);
int yylex(void);
%}
%token NUMBER
%%
program:
program expr '\n' { printf("Result: %d", $2); }
|
;
expr:

NUMBER { $$ = $1; }
|expr expr '+' { $$ = $1 + $2; }
|expr expr '-' { $$ = $1 - $2; }
|expr expr '*' { $$ = $1 * $2; }
|expr expr '/' { $$ = $1 / $2; }
;
%%
void yyerror(char *s)
{
}
int main()
{
yyparse();
return 0;
}
